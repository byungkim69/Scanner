<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>바코드 스캐너</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>

<!-- 🔐 로그인 -->
<div id="login-screen" class="login-container">
    <h2>🔒 SOUND CAT ACCESS</h2>
    <input type="password" id="password-input" placeholder="비밀번호 입력">
    <button id="login-btn">ENTER</button>
    <p id="login-error" style="color:red;display:none;">❌ 비밀번호 틀림</p>
</div>

<!-- 📷 스캐너 -->
<div id="app" style="display:none;">
    <h2>📷 바코드 스캐너</h2>

    <button id="start-btn" style="padding:12px;margin-bottom:15px;">📷 카메라 시작</button>

    <video id="video" autoplay playsinline style="width:100%;max-width:400px;border-radius:10px;border:2px solid #333;display:none;"></video>
    <img id="freeze-image" style="display:none;width:100%;max-width:400px;border-radius:10px;border:2px solid #333;" />

    <h3>스캔된 바코드</h3>
    <div id="barcode-result"></div>

    <div id="product-info" class="result-box"></div>

    <button id="refresh-btn" style="display:none;padding:12px;">🔄 다시 스캔</button>
</div>

<!-- ZXing -->
<script src="https://cdn.jsdelivr.net/npm/@zxing/browser@latest"></script>

<!-- App JS -->
<script src="script.js"></script>

<script>
    const APP_PASSWORD = "soundcat";

    document.getElementById("login-btn").addEventListener("click", () => {
        if (document.getElementById("password-input").value === APP_PASSWORD) {
            document.getElementById("login-screen").style.display = "none";
            document.getElementById("app").style.display = "block";
        } else {
            document.getElementById("login-error").style.display = "block";
        }
    });

    document.getElementById("password-input").addEventListener("keypress", e => {
        if (e.key === "Enter") document.getElementById("login-btn").click();
    });
</script>

</body>
</html>
